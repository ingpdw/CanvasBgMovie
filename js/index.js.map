{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap 88277e2164e6ab4d7eb7","webpack:///./js/App.js","webpack:///./js/Movie.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_Movie","_Movie2","window","ui","CanvasBgMovie","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","Movie","$parent","options","this","framesPerSecond","hideVideo","autoplay","loop","fixedTop","movieWidth","movieHeight","movieUrl","poster","jQuery","extend","videoNode","tmplVideo","canvasNode","tmplCanvas","append","video","get","canvas","ctx","getContext","playing","resizeTimeoutReference","resizeTimout","init","bind","isIOS","hide","value","test","navigator","platform","width","height","winWidth","winHeight","left","top","css","position","load","setCanvasSize","_this","addEventListener","drawFrame","readyState","play","on","document","_checkVisibilityChange","pause","Math","ceil","attr","lastTime","Date","now","_this2","time","elapsed","currentTime","duration","animationFrame","requestAnimationFrame","cancelAnimationFrame","drawImage"],"mappings":"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","file":"index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Movie = __webpack_require__(2);\n\t\n\tvar _Movie2 = _interopRequireDefault(_Movie);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(function () {\n\t  'use strict';\n\t\n\t  if (!window.ui) window.ui = {};\n\t\n\t  if (!window.CanvasBgMovie) window.CanvasBgMovie = _Movie2.default;\n\t})();\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Movie = function () {\n\t\tfunction Movie($parent, options) {\n\t\t\t_classCallCheck(this, Movie);\n\t\n\t\t\tthis.$parent = $parent;\n\t\n\t\t\tthis.options = {\n\t\t\t\tframesPerSecond: 25,\n\t\t\t\thideVideo: true,\n\t\t\t\tautoplay: true,\n\t\t\t\tloop: true,\n\t\t\t\tfixedTop: false,\n\t\t\t\tmovieWidth: 960,\n\t\t\t\tmovieHeight: 540,\n\t\t\t\tmovieUrl: '',\n\t\t\t\tposter: ''\n\t\t\t};\n\t\n\t\t\tjQuery.extend(true, this.options, options);\n\t\n\t\t\tthis.videoNode = jQuery(this.tmplVideo());\n\t\t\tthis.canvasNode = jQuery(this.tmplCanvas());\n\t\n\t\t\tthis.$parent.append(this.videoNode);\n\t\t\tthis.video = this.videoNode.get(0);\n\t\n\t\t\tthis.$parent.append(this.canvasNode);\n\t\t\tthis.canvas = this.canvasNode.get(0);\n\t\n\t\t\tthis.ctx = this.canvas.getContext('2d');\n\t\n\t\t\tthis.playing = false;\n\t\t\tthis.resizeTimeoutReference = false;\n\t\t\tthis.resizeTimout = 100;\n\t\n\t\t\tthis.init();\n\t\t\tthis.bind();\n\t\n\t\t\tif (!this.isIOS()) {\n\t\t\t\tthis.canvasNode.hide();\n\t\t\t}\n\t\t}\n\t\n\t\t_createClass(Movie, [{\n\t\t\tkey: 'isIOS',\n\t\t\tvalue: function isIOS() {\n\t\t\t\treturn (/iPad|iPhone|iPod/.test(navigator.platform)\n\t\t\t\t);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'position',\n\t\t\tvalue: function position() {\n\t\t\t\tvar movieWidth = this.width;\n\t\t\t\tvar movieHeight = this.height;\n\t\t\t\tvar winWidth = jQuery(window).width();\n\t\t\t\tvar winHeight = jQuery(window).height();\n\t\n\t\t\t\tvar left = -(movieWidth - winWidth) / 2;\n\t\t\t\tvar top = -(movieHeight - winHeight) / 2;\n\t\n\t\t\t\tif (this.options.fixedTop) {\n\t\t\t\t\ttop = 0;\n\t\t\t\t}\n\t\n\t\t\t\tif (this.isIOS()) {\n\t\t\t\t\tthis.canvasNode.css({ position: 'absolute', left: left, top: top });\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoNode.css({ position: 'absolute', left: left, top: top });\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'init',\n\t\t\tvalue: function init() {\n\t\t\t\tthis.video.load();\n\t\t\t\tthis.setCanvasSize();\n\t\t\t\tthis.position();\n\t\n\t\t\t\tif (this.isIOS() && this.options.hideVideo) this.videoNode.hide();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'bind',\n\t\t\tvalue: function bind() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tif (this.isIOS()) {\n\t\t\t\t\tthis.video.addEventListener('timeupdate', function () {\n\t\t\t\t\t\t_this.drawFrame();\n\t\t\t\t\t});\n\t\n\t\t\t\t\tthis.video.addEventListener('canplay', function () {\n\t\t\t\t\t\t_this.drawFrame();\n\t\t\t\t\t});\n\t\n\t\t\t\t\tif (this.video.readyState >= 2) {\n\t\t\t\t\t\tthis.drawFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (this.isIOS() && this.options.autoplay) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\n\t\t\t\t// Cache canvas size on resize (doing it only once in a second)\n\t\t\t\tjQuery(window).on('resize', function () {\n\t\t\t\t\t//clearTimeout( this.resizeTimeoutReference );\n\t\n\t\t\t\t\t//this.resizeTimeoutReference = setTimeout(() => {\n\t\t\t\t\t_this.setCanvasSize();\n\t\t\t\t\t_this.position();\n\t\n\t\t\t\t\tif (_this.isIOS()) _this.drawFrame();\n\t\t\t\t\t//}, this.resizeTimout );\n\t\t\t\t});\n\t\n\t\t\t\tjQuery(document).bind('webkitvisibilitychange', function () {\n\t\n\t\t\t\t\tif (!window._checkVisibilityChange) return;\n\t\n\t\t\t\t\tif (document['webkitHidden']) {\n\t\t\t\t\t\tthis.pause();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'setCanvasSize',\n\t\t\tvalue: function setCanvasSize() {\n\t\t\t\tvar movieWidth = this.options.movieWidth;\n\t\t\t\tvar movieHeight = this.options.movieHeight;\n\t\t\t\tvar winWidth = jQuery(window).width();\n\t\t\t\tvar winHeight = jQuery(window).height();\n\t\n\t\t\t\tthis.height = Math.ceil(winHeight);\n\t\t\t\tthis.width = Math.ceil(this.height * movieWidth / movieHeight);\n\t\n\t\t\t\tif (this.width < winWidth) {\n\t\t\t\t\tthis.height = Math.ceil(winHeight + (winWidth - this.width) * 9 / 16);\n\t\t\t\t\tthis.width = Math.ceil(this.height * movieWidth / movieHeight);\n\t\t\t\t}\n\t\n\t\t\t\tif (this.isIOS()) {\n\t\t\t\t\tthis.ctx.canvas.width = this.width;\n\t\t\t\t\tthis.ctx.canvas.height = this.height;\n\t\n\t\t\t\t\tthis.canvasNode.attr('width', this.width);\n\t\t\t\t\tthis.canvasNode.attr('height', this.height);\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoNode.width(this.width);\n\t\t\t\t\tthis.videoNode.height(this.height);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'play',\n\t\t\tvalue: function play() {\n\t\t\t\tif (this.isIOS()) {\n\t\t\t\t\tthis.lastTime = Date.now();\n\t\t\t\t\tthis.playing = true;\n\t\t\t\t\tthis.loop();\n\t\t\t\t} else {\n\t\t\t\t\tthis.playing = true;\n\t\t\t\t\tthis.videoNode.get(0).play();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'pause',\n\t\t\tvalue: function pause() {\n\t\t\t\tif (this.isIOS()) {\n\t\t\t\t\tthis.playing = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.playing = false;\n\t\t\t\t\tthis.videoNode.get(0).pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'playPause',\n\t\t\tvalue: function playPause() {\n\t\t\t\tif (this.playing) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t} else {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'loop',\n\t\t\tvalue: function loop() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tvar time = Date.now();\n\t\t\t\tvar elapsed = (time - this.lastTime) / 1000;\n\t\n\t\t\t\t// Render\n\t\t\t\tif (elapsed >= 1 / this.options.framesPerSecond) {\n\t\t\t\t\tthis.video.currentTime = this.video.currentTime + elapsed;\n\t\t\t\t\tthis.lastTime = time;\n\t\t\t\t}\n\t\n\t\t\t\tif (this.video.currentTime >= this.video.duration) {\n\t\t\t\t\tthis.playing = false;\n\t\n\t\t\t\t\tif (this.options.loop === true) {\n\t\t\t\t\t\tthis.video.currentTime = 0;\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (this.playing) {\n\t\t\t\t\tthis.animationFrame = requestAnimationFrame(function () {\n\t\t\t\t\t\t_this2.loop();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcancelAnimationFrame(this.animationFrame);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'tmplVideo',\n\t\t\tvalue: function tmplVideo() {\n\t\t\t\treturn '<video class=\"video\" muted=\"true\" loop=\"true\" autoplay=\"true\" poster=\"' + this.options.poster + '\">\\n\\t\\t\\t<source src=\"' + this.options.movieUrl + '\" type=\"video/mp4\"></video>';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'tmplCanvas',\n\t\t\tvalue: function tmplCanvas() {\n\t\t\t\treturn '<canvas class=\"canvas\"></canvas>';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'drawFrame',\n\t\t\tvalue: function drawFrame() {\n\t\t\t\tthis.ctx.drawImage(this.video, 0, 0, this.width, this.height);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Movie;\n\t}();\n\t\n\tmodule.exports = Movie;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 88277e2164e6ab4d7eb7","import Movie from './Movie.js';\n\n( function() {\n  'use strict';\n\n  if( !window.ui )\n    window.ui = {};\n\n  if( !window.CanvasBgMovie )\n    window.CanvasBgMovie =  Movie;\n\n}() );\n\n\n\n// WEBPACK FOOTER //\n// ./js/App.js","\nclass Movie{\n\tconstructor( $parent, options ) {\n\n\t\tthis.$parent = $parent;\n\n\t\tthis.options = {\n\t\t\tframesPerSecond: 25,\n\t\t\thideVideo: true,\n\t\t\tautoplay: true,\n\t\t\tloop: true,\n\t\t\tfixedTop: false,\n\t\t\tmovieWidth: 960,\n\t\t\tmovieHeight: 540,\n\t\t\tmovieUrl : '',\n\t\t\tposter: ''\n\t\t}\n\n\t\tjQuery.extend( true, this.options, options );\n\n\t  this.videoNode = jQuery( this.tmplVideo() );\n\t  this.canvasNode = jQuery( this.tmplCanvas() );\n\n\t\tthis.$parent.append( this.videoNode );\n\t\tthis.video = this.videoNode.get( 0 );\n\n\t\tthis.$parent.append( this.canvasNode );\n\t\tthis.canvas = this.canvasNode.get( 0 );\n\n\t\tthis.ctx = this.canvas.getContext( '2d' );\n\n\t\tthis.playing = false;\n\t\tthis.resizeTimeoutReference = false;\n\t\tthis.resizeTimout = 100;\n\n\t\tthis.init();\n\t\tthis.bind();\n\n\t\tif( !this.isIOS() ){\n\t\t\tthis.canvasNode.hide();\n\t\t}\n\t}\n\n\tisIOS() {\n\t\treturn /iPad|iPhone|iPod/.test( navigator.platform );\n\t}\n\n\tposition() {\n\t\tlet movieWidth = this.width;\n\t\tlet movieHeight = this.height;\n\t\tlet winWidth = jQuery( window ).width();\n\t\tlet winHeight = jQuery( window ).height();\n\n\t\tlet left =  -( movieWidth - winWidth ) / 2;\n\t\tlet top = -( movieHeight - winHeight )  / 2;\n\n\t\tif( this.options.fixedTop ) {\n\t\t\ttop = 0;\n\t\t}\n\n\t\tif( this.isIOS() ){\n\t\t\tthis.canvasNode.css({position:'absolute', left: left, top: top});\n\t\t}else{\n\t\t\tthis.videoNode.css({position:'absolute', left: left, top: top});\n\t\t}\n\t}\n\n\tinit() {\n\t\tthis.video.load();\n\t\tthis.setCanvasSize();\n\t\tthis.position();\n\n\t\tif ( this.isIOS() && this.options.hideVideo )\n\t\t\tthis.videoNode.hide();\n\t}\n\n\tbind() {\n\t\tif( this.isIOS() ){\n\t\t\tthis.video.addEventListener('timeupdate', () => {\n\t\t\t\tthis.drawFrame();\n\t\t\t});\n\n\t\t\tthis.video.addEventListener('canplay', () => {\n\t\t\t\tthis.drawFrame();\n\t\t\t});\n\n\t\t\tif (this.video.readyState >= 2) {\n\t\t\t\tthis.drawFrame();\n\t\t\t}\n\t\t}\n\n\t\tif ( this.isIOS() && this.options.autoplay ) {\n\t\t  this.play();\n\t\t}\n\n\t\t// Cache canvas size on resize (doing it only once in a second)\n\t\tjQuery( window ).on('resize', () => {\n\t\t\t//clearTimeout( this.resizeTimeoutReference );\n\n\t\t\t//this.resizeTimeoutReference = setTimeout(() => {\n\t\t\t\tthis.setCanvasSize();\n\t\t\t\tthis.position();\n\n\t\t\t\tif( this.isIOS() ) this.drawFrame();\n\t\t\t//}, this.resizeTimout );\n\t\t});\n\n\t\tjQuery( document ).bind( 'webkitvisibilitychange', function(){\n\n\t\t\tif ( !window._checkVisibilityChange ) return;\n\n\t\t\tif ( document[ 'webkitHidden' ] ) {\n\t\t\t\tthis.pause();\n\t\t\t} else {\n\t\t\t\tthis.play();\n\t\t\t}\n\t\t});\n\t}\n\n\tsetCanvasSize() {\n\t\tlet movieWidth = this.options.movieWidth;\n\t\tlet movieHeight = this.options.movieHeight;\n\t\tlet winWidth = jQuery( window ).width();\n\t\tlet winHeight = jQuery( window ).height();\n\n\t\tthis.height = Math.ceil( winHeight );\n\t\tthis.width = Math.ceil( this.height * movieWidth / movieHeight );\n\n\t\tif( this.width < winWidth ){\n\t\t\tthis.height = Math.ceil( winHeight + ( ( winWidth - this.width ) * 9 / 16 ) );\n\t\t\tthis.width = Math.ceil( this.height * movieWidth / movieHeight );\n\t\t}\n\n\t\tif( this.isIOS() ){\n\t\t\tthis.ctx.canvas.width = this.width;\n\t\t\tthis.ctx.canvas.height = this.height;\n\n\t\t\tthis.canvasNode.attr('width', this.width);\n\t\t\tthis.canvasNode.attr('height', this.height);\n\t\t}else{\n\t\t\tthis.videoNode.width( this.width );\n\t\t\tthis.videoNode.height( this.height );\n\t\t}\n\t}\n\n\tplay () {\n\t\tif( this.isIOS() ){\n\t\t\tthis.lastTime = Date.now();\n\t\t\tthis.playing = true;\n\t\t\tthis.loop();\n\t\t}else{\n\t\t\tthis.playing = true;\n\t\t\tthis.videoNode.get( 0 ).play();\n\t\t}\n\t}\n\n\tpause() {\n\t\tif( this.isIOS() ){\n\t\t\tthis.playing = false;\n\t\t}else{\n\t\t\tthis.playing = false;\n\t\t\tthis.videoNode.get( 0 ).pause();\n\t\t}\n\t}\n\n\tplayPause() {\n\t\tif (this.playing) {\n\t\t\tthis.pause();\n\t\t} else {\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\tloop () {\n\t\tlet time = Date.now();\n\t\tlet elapsed = ( time - this.lastTime ) / 1000;\n\n\t\t// Render\n\t\tif( elapsed >= (1 / this.options.framesPerSecond ) ) {\n\t\t\tthis.video.currentTime = this.video.currentTime + elapsed;\n\t\t\tthis.lastTime = time;\n\t\t}\n\n\t\tif (this.video.currentTime >= this.video.duration) {\n\t\t\tthis.playing = false;\n\n\t\t\tif (this.options.loop === true) {\n\t\t\t\tthis.video.currentTime = 0;\n\t\t\t\tthis.play();\n\t\t\t}\n\t\t}\n\n\t\tif ( this.playing ) {\n\t\t\tthis.animationFrame = requestAnimationFrame( () => {\n\t\t\t\tthis.loop();\n\t\t\t});\n\t\t}else {\n\t\t\tcancelAnimationFrame( this.animationFrame );\n\t\t}\n\t}\n\n\ttmplVideo () {\n\t\treturn `<video class=\"video\" muted=\"true\" loop=\"true\" autoplay=\"true\" poster=\"${this.options.poster}\">\n\t\t\t<source src=\"${this.options.movieUrl}\" type=\"video/mp4\"></video>`;\n\t}\n\n\ttmplCanvas() {\n\t\treturn '<canvas class=\"canvas\"></canvas>';\n\t}\n\n\tdrawFrame() {\n\t\tthis.ctx.drawImage(this.video, 0, 0, this.width, this.height);\n\t}\n}\n\nmodule.exports = Movie;\n\n\n\n// WEBPACK FOOTER //\n// ./js/Movie.js"],"sourceRoot":""}